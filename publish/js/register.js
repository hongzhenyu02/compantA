"use strict";$(function(){var r=$("#username"),o=$(".namebox"),s=$("#password"),n=$(".passwordbox"),e=$("#submitBtn"),t=$("<p>请按照规则输入</p>"),a=$("<p>恭喜您可以使用</p>"),c=!1,p=!1;r.blur(function(){var e=r.val();console.log(e);if(!/^[^\d]\w{6,10}$/.test(e))return o.append(t),t.css({color:"red"}),void(c=!1);$.ajax({url:"/server/php/checkusername.php",type:"get",data:{username:e},dataType:"json",success:function(e){if(console.log(e),e.error)throw new Error(e.msg);o.append(a),a.css({color:"green"}),c=!0}})}),r.focus(function(){t.remove(),a.remove()}),s.blur(function(){var e=s.val();if(!/^[^\d]\w{6,10}$/.test(e))return n.append(t),t.css({color:"red"}),void(p=!1);p=!0}),s.focus(function(){t.remove()}),e.click(function(){c&&p&&$.ajax({url:"/server/php/register.php",type:"post",data:{username:r.val(),password:s.val()},dataType:"json",success:function(e){if(console.log(e),e.error)throw new Error(e.msg);alert(e.msg),location.href="../html/login.html"}})})});